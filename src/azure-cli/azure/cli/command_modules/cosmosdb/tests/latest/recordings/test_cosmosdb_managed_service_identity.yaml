interactions:
  - request:
      body: null
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - keyvault create
        Connection:
          - keep-alive
        ParameterSetName:
          - --resource-group -n --enable-soft-delete --enable-purge-protection
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-azure-mgmt-resource/18.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_cosmosdb_managed_service_identity000001?api-version=2021-04-01
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001","name":"cli_test_cosmosdb_managed_service_identity000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2021-06-30T03:48:16Z"},"properties":{"provisioningState":"Succeeded"}}'
      headers:
        cache-control:
          - no-cache
        content-length:
          - '428'
        content-type:
          - application/json; charset=utf-8
        date:
          - Wed, 30 Jun 2021 03:48:19 GMT
        expires:
          - '-1'
        pragma:
          - no-cache
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
      status:
        code: 200
        message: OK
  - request:
      body: null
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        Connection:
          - keep-alive
        User-Agent:
          - python/3.8.2 (Windows-10-10.0.19041-SP0) msrest/0.6.21 msrest_azure/0.6.3
            azure-graphrbac/0.60.0 Azure-SDK-For-Python
        accept-language:
          - en-US
      method: GET
      uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/me?api-version=1.6
    response:
      body:
        string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.User","objectType":"User","objectId":"d186af52-b4be-48d9-9bae-1757adadc29f","deletionTimestamp":null,"accountEnabled":true,"ageGroup":null,"assignedLicenses":[{"disabledPlans":["cd31b152-6326-4d1b-ae1b-997b625182e6","a413a9ff-720c-4822-98ef-2f37c2a21f4c","a6520331-d7d4-4276-95f5-15c0933bc757","ded3d325-1bdc-453e-8432-5bac26d7a014","afa73018-811e-46e9-988f-f75d2b1b8430","b21a6b06-1988-436e-a07b-51ec6d9f52ad","531ee2f8-b1cb-453b-9c21-d2180d014ca5","bf28f719-7844-4079-9c78-c1307898e192","28b0fa46-c39a-4188-89e2-58e979a6b014","199a5c09-e0ca-4e37-8f7c-b05d533e1ea2","65cc641f-cccd-4643-97e0-a17e3045e541","e26c2fcc-ab91-4a61-b35c-03cdc8dddf66","46129a58-a698-46f0-aa5b-17f6586297d9","6db1f1db-2b46-403f-be40-e39395f08dbb","6dc145d6-95dd-4191-b9c3-185575ee6f6b","41fcdd7d-4733-4863-9cf4-c65b83ce2df4","c4801e8a-cb58-4c35-aca6-f2dcc106f287","0898bdbb-73b0-471a-81e5-20f1fe4dd66e","617b097b-4b93-4ede-83de-5f075bb5fb2f","33c4f319-9bdd-48d6-9c4d-410b750a4a5a","8e0c0a52-6a6c-4d40-8370-dd62790dcd70","4828c8ec-dc2e-4779-b502-87ac9ce28ab7","3e26ee1f-8a5f-4d52-aee2-b81ce45c8f40"],"skuId":"c7df2760-2c81-4ef7-b578-5b5392b571df"},{"disabledPlans":[],"skuId":"3d957427-ecdc-4df2-aacd-01cc9d519da8"},{"disabledPlans":[],"skuId":"85aae730-b3d1-4f99-bb28-c9f81b05137c"},{"disabledPlans":[],"skuId":"9f3d9c1d-25a5-4aaa-8e59-23a1e6450a67"},{"disabledPlans":[],"skuId":"26a18e8f-4d14-46f8-835a-ed3ba424a961"},{"disabledPlans":[],"skuId":"412ce1a7-a499-41b3-8eb6-b38f2bbc5c3f"},{"disabledPlans":["39b5c996-467e-4e60-bd62-46066f572726"],"skuId":"90d8b3f8-712e-4f7b-aa1e-62e7ae6cbe96"},{"disabledPlans":[],"skuId":"c5928f49-12ba-48f7-ada3-0d743a3601d5"},{"disabledPlans":[],"skuId":"b05e124f-c7cc-45a0-a6aa-8cf78c946968"},{"disabledPlans":["e95bec33-7c88-4a70-8e19-b10bd9d0c014","5dbe027f-2339-4123-9542-606e4d348a72"],"skuId":"09015f9f-377f-4538-bbb5-f75ceb09358a"},{"disabledPlans":[],"skuId":"488ba24a-39a9-4473-8ee5-19291e71b002"},{"disabledPlans":["0b03f40b-c404-40c3-8651-2aceb74365fa","b650d915-9886-424b-a08d-633cede56f57","e95bec33-7c88-4a70-8e19-b10bd9d0c014","5dbe027f-2339-4123-9542-606e4d348a72","fe71d6c3-a2ea-4499-9778-da042bf08063","fafd7243-e5c1-4a3a-9e40-495efcb1d3c3"],"skuId":"ea126fc5-a19e-42e2-a731-da9d437bffcf"}],"assignedPlans":[{"assignedTimestamp":"2021-06-22T12:53:06Z","capabilityStatus":"Enabled","service":"WindowsUpdateforBusinessCloudExtensions","servicePlanId":"7bf960f6-2cd9-443a-8046-5dbff9558365"},{"assignedTimestamp":"2021-06-22T12:53:06Z","capabilityStatus":"Enabled","service":"SharePoint","servicePlanId":"fe71d6c3-a2ea-4499-9778-da042bf08063"},{"assignedTimestamp":"2021-06-22T12:53:06Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"199a5c09-e0ca-4e37-8f7c-b05d533e1ea2"},{"assignedTimestamp":"2021-06-22T12:53:06Z","capabilityStatus":"Enabled","service":"SharePoint","servicePlanId":"e95bec33-7c88-4a70-8e19-b10bd9d0c014"},{"assignedTimestamp":"2021-06-22T12:53:06Z","capabilityStatus":"Enabled","service":"SharePoint","servicePlanId":"5dbe027f-2339-4123-9542-606e4d348a72"},{"assignedTimestamp":"2021-06-22T12:53:06Z","capabilityStatus":"Enabled","service":"MicrosoftOffice","servicePlanId":"fafd7243-e5c1-4a3a-9e40-495efcb1d3c3"},{"assignedTimestamp":"2021-04-15T23:12:42Z","capabilityStatus":"Deleted","service":"MIPExchangeSolutions","servicePlanId":"cd31b152-6326-4d1b-ae1b-997b625182e6"},{"assignedTimestamp":"2020-12-22T02:57:47Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"2f442157-a11c-46b9-ae5b-6e39ff4e5849"},{"assignedTimestamp":"2020-12-12T19:37:59Z","capabilityStatus":"Enabled","service":"CRM","servicePlanId":"18fa3aba-b085-4105-87d7-55617b8585e6"},{"assignedTimestamp":"2020-12-12T19:37:59Z","capabilityStatus":"Enabled","service":"ERP","servicePlanId":"69f07c66-bee4-4222-b051-195095efee5b"},{"assignedTimestamp":"2020-12-12T19:37:59Z","capabilityStatus":"Enabled","service":"ProjectProgramsAndPortfolios","servicePlanId":"0a05d977-a21a-45b2-91ce-61c240dbafa2"},{"assignedTimestamp":"2020-11-03T22:28:52Z","capabilityStatus":"Deleted","service":"M365CommunicationCompliance","servicePlanId":"a413a9ff-720c-4822-98ef-2f37c2a21f4c"},{"assignedTimestamp":"2020-11-01T23:20:45Z","capabilityStatus":"Enabled","service":"ProcessSimple","servicePlanId":"7e6d7d78-73de-46ba-83b1-6d25117334ba"},{"assignedTimestamp":"2020-10-17T07:52:40Z","capabilityStatus":"Enabled","service":"WorkplaceAnalytics","servicePlanId":"f477b0f0-3bb1-4890-940c-40fcee6ce05f"},{"assignedTimestamp":"2020-08-14T23:42:10Z","capabilityStatus":"Enabled","service":"YammerEnterprise","servicePlanId":"7547a3fe-08ee-4ccb-b430-5077c5041653"},{"assignedTimestamp":"2020-08-04T06:50:13Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"b622badb-1b45-48d5-920f-4b27a2c0996c"},{"assignedTimestamp":"2020-08-04T06:50:13Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"f3d5636e-ddc2-41bf-bba6-ca6fadece269"},{"assignedTimestamp":"2020-06-18T14:35:25Z","capabilityStatus":"Enabled","service":"MicrosoftPrint","servicePlanId":"795f6fe0-cc4d-4773-b050-5dde4dc704c9"},{"assignedTimestamp":"2019-11-06T17:04:14Z","capabilityStatus":"Enabled","service":"MicrosoftCommunicationsOnline","servicePlanId":"018fb91e-cee3-418c-9063-d7562978bdaf"},{"assignedTimestamp":"2019-11-06T17:04:13Z","capabilityStatus":"Enabled","service":"MicrosoftCommunicationsOnline","servicePlanId":"ca4be917-fbce-4b52-839e-6647467a1668"},{"assignedTimestamp":"2019-11-05T02:20:38Z","capabilityStatus":"Enabled","service":"WhiteboardServices","servicePlanId":"4a51bca5-1eff-43f5-878c-177680f191af"},{"assignedTimestamp":"2019-11-02T22:23:38Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"9f431833-0334-42de-a7dc-70aa40db46db"},{"assignedTimestamp":"2019-11-02T22:23:38Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"efb87545-963c-4e0d-99df-69c6916d9eb0"},{"assignedTimestamp":"2019-11-02T22:23:38Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"34c0d7a0-a70f-4668-9238-47f9fc208882"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"MicrosoftCommunicationsOnline","servicePlanId":"0feaeb32-d00e-4d66-bd5a-43b5b83db82c"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"ProcessSimple","servicePlanId":"07699545-9485-468e-95b6-2fca3738be01"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"Adallom","servicePlanId":"8c098270-9dd4-4350-9b30-ba4703f3b36b"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"b1188c4c-1b36-4018-b48b-ee07604f6feb"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"MicrosoftStream","servicePlanId":"6c6042f5-6f01-4d67-b8c1-eb99d36eed3e"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"AADPremiumService","servicePlanId":"41781fb2-bc02-4b7c-bd55-b576c07bb09d"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"Sway","servicePlanId":"a23b959c-7ce8-4e57-9140-b90eb88a9e97"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"5136a095-5cf0-4aff-bec3-e84448b38ea5"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"PowerBI","servicePlanId":"70d33638-9c74-4d01-bfd3-562de28bd4ba"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"ProjectWorkManagement","servicePlanId":"b737dad2-2f6c-4c65-90e3-ca563267e8b9"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"RMSOnline","servicePlanId":"bea4c11e-220a-4e6d-8eb8-8ea15d019f90"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"AADPremiumService","servicePlanId":"eec0eb4f-6444-4f95-aba0-50c24d67f998"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"ProjectProgramsAndPortfolios","servicePlanId":"818523f5-016b-4355-9be8-ed6944946ea7"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"OfficeForms","servicePlanId":"e212cbc7-0961-4c40-9825-01117710dcb1"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"4de31727-a228-4ec3-a5bf-8e45b5ca48cc"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"SCO","servicePlanId":"c1ec4a95-1f05-45b3-a911-aa3fa01094f5"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"SharePoint","servicePlanId":"2bdbaf8f-738f-4ac7-9234-3c3ee2ce7d0f"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"MicrosoftOffice","servicePlanId":"663a804f-1c30-4ff0-9915-9db84f0d1cea"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"TeamspaceAPI","servicePlanId":"57ff2da0-773e-42df-b2af-ffb7a2317929"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"AzureAdvancedThreatAnalytics","servicePlanId":"14ab5db5-e6c4-4b20-b4bc-13e36fd2227f"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"PowerAppsService","servicePlanId":"9c0dab89-a30c-4117-86e7-97bda240acd2"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"efb0351d-3b08-4503-993d-383af8de41e3"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"SharePoint","servicePlanId":"da792a53-cbc0-4184-a10d-e544dd34b3c1"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"Deskless","servicePlanId":"8c7d2df8-86f0-4902-b2ed-a0458298f3b3"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"RMSOnline","servicePlanId":"6c57d4b6-3b23-47a5-9bc9-69f17b4947b3"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"MultiFactorService","servicePlanId":"8a256a2b-b617-496d-b51b-e76466e88db0"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"ProcessSimple","servicePlanId":"fa200448-008c-4acb-abd4-ea106ed2199d"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"To-Do","servicePlanId":"3fb82609-8c27-4f7b-bd51-30634711ee67"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"RMSOnline","servicePlanId":"5689bec4-755d-4753-8b61-40975025187c"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"MicrosoftOffice","servicePlanId":"43de0ff5-c92c-492b-9116-175376d08c38"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"CRM","servicePlanId":"50554c47-71d9-49fd-bc54-42a2765c555c"},{"assignedTimestamp":"2019-11-02T07:19:45Z","capabilityStatus":"Enabled","service":"Adallom","servicePlanId":"2e2ddb96-6af9-4b1d-a3f0-d6ecfd22edb2"},{"assignedTimestamp":"2019-11-01T16:15:28Z","capabilityStatus":"Enabled","service":"WindowsDefenderATP","servicePlanId":"871d91ec-ec1a-452b-a83f-bd76c7d770ef"},{"assignedTimestamp":"2019-11-01T16:15:28Z","capabilityStatus":"Enabled","service":"Windows","servicePlanId":"e7c91390-7625-45be-94e0-e16907e03118"},{"assignedTimestamp":"2019-11-01T16:15:22Z","capabilityStatus":"Enabled","service":"Netbreeze","servicePlanId":"03acaee3-9492-4f40-aed4-bcb6b32981b6"},{"assignedTimestamp":"2019-11-01T16:15:22Z","capabilityStatus":"Enabled","service":"DYN365AISERVICEINSIGHTS","servicePlanId":"1412cdc1-d593-4ad1-9050-40c30ad0b023"},{"assignedTimestamp":"2019-11-01T16:15:22Z","capabilityStatus":"Enabled","service":"CRM","servicePlanId":"d56f3deb-50d8-465a-bedb-f079817ccac1"},{"assignedTimestamp":"2019-11-01T16:15:22Z","capabilityStatus":"Enabled","service":"MicrosoftFormsProTest","servicePlanId":"97f29a83-1a20-44ff-bf48-5e4ad11f3e51"}],"city":"Alpharetta","companyName":"MICROSOFT","consentProvidedForMinor":null,"country":null,"createdDateTime":"2019-11-01T16:02:17Z","creationType":null,"department":"COGS
        Data - Cosmos DB","dirSyncEnabled":true,"displayName":"Tom Swedlund","employeeId":null,"facsimileTelephoneNumber":null,"givenName":"Tom","immutableId":"1394359","isCompromised":null,"jobTitle":"SENIOR
        SOFTWARE ENGINEER","lastDirSyncTime":"2021-05-18T17:14:00Z","legalAgeGroupClassification":null,"mail":"Tom.Swedlund@microsoft.com","mailNickname":"toswedlu","mobile":null,"onPremisesDistinguishedName":"CN=Tom
        Swedlund,OU=MSE,OU=Users,OU=CoreIdentity,DC=northamerica,DC=corp,DC=microsoft,DC=com","onPremisesSecurityIdentifier":"S-1-5-21-124525095-708259637-1543119021-1935644","otherMails":[],"passwordPolicies":"DisablePasswordExpiration","passwordProfile":null,"physicalDeliveryOfficeName":"Home
        Office","postalCode":null,"preferredLanguage":null,"provisionedPlans":[{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"SharePoint"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"SharePoint"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"SharePoint"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"CRM"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"MicrosoftCommunicationsOnline"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"MicrosoftCommunicationsOnline"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"MicrosoftCommunicationsOnline"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"CRM"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"SharePoint"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"SharePoint"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"Netbreeze"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"CRM"}],"provisioningErrors":[],"proxyAddresses":["x500:/o=ExchangeLabs/ou=Exchange
        Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=2ebd4824ef2c46c5841e482e3c85adb4-Tom
        Swedlun","X500:/o=microsoft/ou=Exchange Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=009e8ca236604a9382578a8d06057faf-Tom
        Swedlund","X500:/o=microsoft/ou=Exchange Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=9e50230c03974e18a8ad2d79d74280ac-Tom
        Swedlund","smtp:toswedlu@microsoft.onmicrosoft.com","smtp:toswedlu@service.microsoft.com","smtp:toswedlu@microsoft.com","SMTP:Tom.Swedlund@microsoft.com"],"refreshTokensValidFromDateTime":"2020-01-24T19:21:34Z","showInAddressList":null,"signInNames":[],"sipProxyAddress":"toswedlu@microsoft.com","state":null,"streetAddress":null,"surname":"Swedlund","telephoneNumber":"+1
        (404) 9050569","thumbnailPhoto@odata.mediaEditLink":"directoryObjects/d186af52-b4be-48d9-9bae-1757adadc29f/Microsoft.DirectoryServices.User/thumbnailPhoto","usageLocation":"US","userIdentities":[],"userPrincipalName":"toswedlu@microsoft.com","userState":null,"userStateChangedOn":null,"userType":"Member","extension_18e31482d3fb4a8ea958aa96b662f508_ReportsToPersonnelNbr":"1196137","extension_18e31482d3fb4a8ea958aa96b662f508_ReportsToFullName":"Krishnamurthy,
        Ramnandan","extension_18e31482d3fb4a8ea958aa96b662f508_ReportsToEmailName":"RAMKRIS","extension_18e31482d3fb4a8ea958aa96b662f508_SupervisorInd":"N","extension_18e31482d3fb4a8ea958aa96b662f508_ProfitCenterCode":"P10017802","extension_18e31482d3fb4a8ea958aa96b662f508_PositionNumber":"91853599","extension_18e31482d3fb4a8ea958aa96b662f508_LocationAreaCode":"US","extension_18e31482d3fb4a8ea958aa96b662f508_CostCenterCode":"10017802","extension_18e31482d3fb4a8ea958aa96b662f508_CompanyCode":"1010","extension_18e31482d3fb4a8ea958aa96b662f508_BuildingName":"HOME
        OFFICE","extension_18e31482d3fb4a8ea958aa96b662f508_BuildingID":"99999","extension_18e31482d3fb4a8ea958aa96b662f508_PersonnelNumber":"1394359"}'
      headers:
        access-control-allow-origin:
          - '*'
        cache-control:
          - no-cache
        content-length:
          - '16915'
        content-type:
          - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
        dataserviceversion:
          - 3.0;
        date:
          - Wed, 30 Jun 2021 03:48:21 GMT
        duration:
          - '917216'
        expires:
          - '-1'
        ocp-aad-diagnostics-server-name:
          - IfSYIU0zrHiflUUqNOWslbGSxy0Y+zEo0EOOAS9QB9I=
        ocp-aad-session-key:
          - XbWe891D8mgr-dHhOLTDVlpU0bJYyBPPhfQFhuU0UW093yzMDBGeUFqu53nq4kBGcdKarWbjeAs6EsfkCc5YHZlYqnrO_t2IjZhmba65lied0_hnDJrWODSNZb2kOWRS.OJtCEyIfBqpXjaZdSrNdsSmOcrVGpdxoX1rAjZ6WOJo
        pragma:
          - no-cache
        request-id:
          - 357c4a2e-bd60-478b-8d64-6af2e2fc1ced
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        x-aspnet-version:
          - 4.0.30319
        x-ms-dirapi-data-contract-version:
          - '1.6'
        x-ms-resource-unit:
          - '1'
        x-powered-by:
          - ASP.NET
      status:
        code: 200
        message: OK
  - request:
      body: '{"location": "westus", "properties": {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId": "d186af52-b4be-48d9-9bae-1757adadc29f",
      "permissions": {"keys": ["get", "create", "delete", "list", "update", "import",
      "backup", "restore", "recover"], "secrets": ["get", "list", "set", "delete",
      "backup", "restore", "recover"], "certificates": ["get", "list", "delete", "create",
      "import", "update", "managecontacts", "getissuers", "listissuers", "setissuers",
      "deleteissuers", "manageissuers", "recover"], "storage": ["get", "list", "delete",
      "set", "update", "regeneratekey", "setsas", "listsas", "getsas", "deletesas"]}}],
      "enableSoftDelete": true, "softDeleteRetentionInDays": 90, "enablePurgeProtection":
      true, "networkAcls": {"bypass": "AzureServices", "defaultAction": "Allow"}}}'
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - keyvault create
        Connection:
          - keep-alive
        Content-Length:
          - '906'
        Content-Type:
          - application/json
        ParameterSetName:
          - --resource-group -n --enable-soft-delete --enable-purge-protection
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-azure-mgmt-keyvault/9.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: PUT
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.KeyVault/vaults/cli000002?api-version=2021-04-01-preview
    response:
      body:
        string: '{"error":{"code":"MissingSubscriptionRegistration","message":"The subscription
        is not registered to use namespace ''Microsoft.KeyVault''. See https://aka.ms/rps-not-found
        for how to register subscriptions.","details":[{"code":"MissingSubscriptionRegistration","target":"Microsoft.KeyVault","message":"The
        subscription is not registered to use namespace ''Microsoft.KeyVault''. See
        https://aka.ms/rps-not-found for how to register subscriptions."}]}}'
      headers:
        cache-control:
          - no-cache
        content-length:
          - '445'
        content-type:
          - application/json; charset=utf-8
        date:
          - Wed, 30 Jun 2021 03:48:22 GMT
        expires:
          - '-1'
        pragma:
          - no-cache
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        x-content-type-options:
          - nosniff
        x-ms-failure-cause:
          - gateway
      status:
        code: 409
        message: Conflict
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - keyvault create
        Connection:
          - keep-alive
        Content-Length:
          - '0'
        ParameterSetName:
          - --resource-group -n --enable-soft-delete --enable-purge-protection
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-azure-mgmt-keyvault/9.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: POST
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault/register?api-version=2016-02-01
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault","namespace":"Microsoft.KeyVault","authorizations":[{"applicationId":"cfa8b339-82a2-471a-a3c9-0fc0be7a4093","roleDefinitionId":"1cf9858a-28a2-4228-abba-94e606305b95"},{"applicationId":"589d5083-6f11-4d30-a62a-a4b316a14abf"}],"resourceTypes":[{"resourceType":"vaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"vaults/secrets","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"vaults/accessPolicies","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"operations","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01","2014-12-19-preview"]},{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/deleteVirtualNetworkOrSubnets","locations":["East
        US","North Central US","West Europe","North Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West Central US","West
        US 2","West US","Japan East","Japan West","Australia East","Australia Southeast","Australia
        Central","Brazil South","Central India","South India","West India","Canada
        Central","Canada East","UK South","UK West","Korea Central","Korea South","France
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/operationResults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"vaults/eventGridFilters","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14"]},{"resourceType":"managedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview","2020-04-01-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview"]},{"resourceType":"locations/deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview"]},{"resourceType":"vaults/keys","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01"]},{"resourceType":"vaults/keys/versions","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01"]}],"registrationState":"Registering"}'
      headers:
        cache-control:
          - no-cache
        content-length:
          - '9009'
        content-type:
          - application/json; charset=utf-8
        date:
          - Wed, 30 Jun 2021 03:48:22 GMT
        expires:
          - '-1'
        pragma:
          - no-cache
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-ratelimit-remaining-subscription-writes:
          - '1199'
      status:
        code: 200
        message: OK
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - keyvault create
        Connection:
          - keep-alive
        ParameterSetName:
          - --resource-group -n --enable-soft-delete --enable-purge-protection
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-azure-mgmt-keyvault/9.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault?api-version=2016-02-01
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault","namespace":"Microsoft.KeyVault","authorizations":[{"applicationId":"cfa8b339-82a2-471a-a3c9-0fc0be7a4093","roleDefinitionId":"1cf9858a-28a2-4228-abba-94e606305b95"},{"applicationId":"589d5083-6f11-4d30-a62a-a4b316a14abf"}],"resourceTypes":[{"resourceType":"vaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"vaults/secrets","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"vaults/accessPolicies","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"operations","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01","2014-12-19-preview"]},{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/deleteVirtualNetworkOrSubnets","locations":["East
        US","North Central US","West Europe","North Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West Central US","West
        US 2","West US","Japan East","Japan West","Australia East","Australia Southeast","Australia
        Central","Brazil South","Central India","South India","West India","Canada
        Central","Canada East","UK South","UK West","Korea Central","Korea South","France
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/operationResults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"vaults/eventGridFilters","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14"]},{"resourceType":"managedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview","2020-04-01-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview"]},{"resourceType":"locations/deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview"]},{"resourceType":"vaults/keys","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01"]},{"resourceType":"vaults/keys/versions","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01"]}],"registrationState":"Registering"}'
      headers:
        cache-control:
          - no-cache
        content-length:
          - '9009'
        content-type:
          - application/json; charset=utf-8
        date:
          - Wed, 30 Jun 2021 03:48:32 GMT
        expires:
          - '-1'
        pragma:
          - no-cache
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
      status:
        code: 200
        message: OK
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - keyvault create
        Connection:
          - keep-alive
        ParameterSetName:
          - --resource-group -n --enable-soft-delete --enable-purge-protection
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-azure-mgmt-keyvault/9.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault?api-version=2016-02-01
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault","namespace":"Microsoft.KeyVault","authorizations":[{"applicationId":"cfa8b339-82a2-471a-a3c9-0fc0be7a4093","roleDefinitionId":"1cf9858a-28a2-4228-abba-94e606305b95"},{"applicationId":"589d5083-6f11-4d30-a62a-a4b316a14abf"}],"resourceTypes":[{"resourceType":"vaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"vaults/secrets","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"vaults/accessPolicies","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"operations","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01","2014-12-19-preview"]},{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/deleteVirtualNetworkOrSubnets","locations":["East
        US","North Central US","West Europe","North Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West Central US","West
        US 2","West US","Japan East","Japan West","Australia East","Australia Southeast","Australia
        Central","Brazil South","Central India","South India","West India","Canada
        Central","Canada East","UK South","UK West","Korea Central","Korea South","France
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/operationResults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"vaults/eventGridFilters","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14"]},{"resourceType":"managedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview","2020-04-01-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview"]},{"resourceType":"locations/deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview"]},{"resourceType":"vaults/keys","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01"]},{"resourceType":"vaults/keys/versions","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01"]}],"registrationState":"Registering"}'
      headers:
        cache-control:
          - no-cache
        content-length:
          - '9009'
        content-type:
          - application/json; charset=utf-8
        date:
          - Wed, 30 Jun 2021 03:48:43 GMT
        expires:
          - '-1'
        pragma:
          - no-cache
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
      status:
        code: 200
        message: OK
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - keyvault create
        Connection:
          - keep-alive
        ParameterSetName:
          - --resource-group -n --enable-soft-delete --enable-purge-protection
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-azure-mgmt-keyvault/9.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault?api-version=2016-02-01
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault","namespace":"Microsoft.KeyVault","authorizations":[{"applicationId":"cfa8b339-82a2-471a-a3c9-0fc0be7a4093","roleDefinitionId":"1cf9858a-28a2-4228-abba-94e606305b95"},{"applicationId":"589d5083-6f11-4d30-a62a-a4b316a14abf"}],"resourceTypes":[{"resourceType":"vaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"vaults/secrets","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"vaults/accessPolicies","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"operations","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01","2014-12-19-preview"]},{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/deleteVirtualNetworkOrSubnets","locations":["East
        US","North Central US","West Europe","North Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West Central US","West
        US 2","West US","Japan East","Japan West","Australia East","Australia Southeast","Australia
        Central","Brazil South","Central India","South India","West India","Canada
        Central","Canada East","UK South","UK West","Korea Central","Korea South","France
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/operationResults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"vaults/eventGridFilters","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14"]},{"resourceType":"managedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview","2020-04-01-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview"]},{"resourceType":"locations/deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview"]},{"resourceType":"vaults/keys","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01"]},{"resourceType":"vaults/keys/versions","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01"]}],"registrationState":"Registering"}'
      headers:
        cache-control:
          - no-cache
        content-length:
          - '9009'
        content-type:
          - application/json; charset=utf-8
        date:
          - Wed, 30 Jun 2021 03:48:53 GMT
        expires:
          - '-1'
        pragma:
          - no-cache
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
      status:
        code: 200
        message: OK
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - keyvault create
        Connection:
          - keep-alive
        ParameterSetName:
          - --resource-group -n --enable-soft-delete --enable-purge-protection
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-azure-mgmt-keyvault/9.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault?api-version=2016-02-01
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault","namespace":"Microsoft.KeyVault","authorizations":[{"applicationId":"cfa8b339-82a2-471a-a3c9-0fc0be7a4093","roleDefinitionId":"1cf9858a-28a2-4228-abba-94e606305b95"},{"applicationId":"589d5083-6f11-4d30-a62a-a4b316a14abf"}],"resourceTypes":[{"resourceType":"vaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"vaults/secrets","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"vaults/accessPolicies","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"operations","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01","2014-12-19-preview"]},{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/deleteVirtualNetworkOrSubnets","locations":["East
        US","North Central US","West Europe","North Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West Central US","West
        US 2","West US","Japan East","Japan West","Australia East","Australia Southeast","Australia
        Central","Brazil South","Central India","South India","West India","Canada
        Central","Canada East","UK South","UK West","Korea Central","Korea South","France
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/operationResults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"vaults/eventGridFilters","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14"]},{"resourceType":"managedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview","2020-04-01-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview"]},{"resourceType":"locations/deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview"]},{"resourceType":"vaults/keys","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01"]},{"resourceType":"vaults/keys/versions","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01"]}],"registrationState":"Registering"}'
      headers:
        cache-control:
          - no-cache
        content-length:
          - '9009'
        content-type:
          - application/json; charset=utf-8
        date:
          - Wed, 30 Jun 2021 03:49:03 GMT
        expires:
          - '-1'
        pragma:
          - no-cache
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
      status:
        code: 200
        message: OK
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - keyvault create
        Connection:
          - keep-alive
        ParameterSetName:
          - --resource-group -n --enable-soft-delete --enable-purge-protection
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-azure-mgmt-keyvault/9.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault?api-version=2016-02-01
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault","namespace":"Microsoft.KeyVault","authorizations":[{"applicationId":"cfa8b339-82a2-471a-a3c9-0fc0be7a4093","roleDefinitionId":"1cf9858a-28a2-4228-abba-94e606305b95"},{"applicationId":"589d5083-6f11-4d30-a62a-a4b316a14abf"}],"resourceTypes":[{"resourceType":"vaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"vaults/secrets","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"vaults/accessPolicies","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"operations","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01","2014-12-19-preview"]},{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/deleteVirtualNetworkOrSubnets","locations":["East
        US","North Central US","West Europe","North Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West Central US","West
        US 2","West US","Japan East","Japan West","Australia East","Australia Southeast","Australia
        Central","Brazil South","Central India","South India","West India","Canada
        Central","Canada East","UK South","UK West","Korea Central","Korea South","France
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/operationResults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"vaults/eventGridFilters","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14"]},{"resourceType":"managedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview","2020-04-01-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview"]},{"resourceType":"locations/deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview"]},{"resourceType":"vaults/keys","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01"]},{"resourceType":"vaults/keys/versions","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01"]}],"registrationState":"Registering"}'
      headers:
        cache-control:
          - no-cache
        content-length:
          - '9009'
        content-type:
          - application/json; charset=utf-8
        date:
          - Wed, 30 Jun 2021 03:49:14 GMT
        expires:
          - '-1'
        pragma:
          - no-cache
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
      status:
        code: 200
        message: OK
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - keyvault create
        Connection:
          - keep-alive
        ParameterSetName:
          - --resource-group -n --enable-soft-delete --enable-purge-protection
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-azure-mgmt-keyvault/9.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault?api-version=2016-02-01
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault","namespace":"Microsoft.KeyVault","authorizations":[{"applicationId":"cfa8b339-82a2-471a-a3c9-0fc0be7a4093","roleDefinitionId":"1cf9858a-28a2-4228-abba-94e606305b95"},{"applicationId":"589d5083-6f11-4d30-a62a-a4b316a14abf"}],"resourceTypes":[{"resourceType":"vaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"vaults/secrets","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"vaults/accessPolicies","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"operations","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01","2014-12-19-preview"]},{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/deleteVirtualNetworkOrSubnets","locations":["East
        US","North Central US","West Europe","North Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West Central US","West
        US 2","West US","Japan East","Japan West","Australia East","Australia Southeast","Australia
        Central","Brazil South","Central India","South India","West India","Canada
        Central","Canada East","UK South","UK West","Korea Central","Korea South","France
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/operationResults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"vaults/eventGridFilters","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14"]},{"resourceType":"managedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview","2020-04-01-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview"]},{"resourceType":"locations/deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview"]},{"resourceType":"vaults/keys","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01"]},{"resourceType":"vaults/keys/versions","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01"]}],"registrationState":"Registering"}'
      headers:
        cache-control:
          - no-cache
        content-length:
          - '9009'
        content-type:
          - application/json; charset=utf-8
        date:
          - Wed, 30 Jun 2021 03:49:24 GMT
        expires:
          - '-1'
        pragma:
          - no-cache
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
      status:
        code: 200
        message: OK
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - keyvault create
        Connection:
          - keep-alive
        ParameterSetName:
          - --resource-group -n --enable-soft-delete --enable-purge-protection
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-azure-mgmt-keyvault/9.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault?api-version=2016-02-01
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault","namespace":"Microsoft.KeyVault","authorizations":[{"applicationId":"cfa8b339-82a2-471a-a3c9-0fc0be7a4093","roleDefinitionId":"1cf9858a-28a2-4228-abba-94e606305b95"},{"applicationId":"589d5083-6f11-4d30-a62a-a4b316a14abf"}],"resourceTypes":[{"resourceType":"vaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"vaults/secrets","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"vaults/accessPolicies","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"operations","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01","2014-12-19-preview"]},{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"]},{"resourceType":"deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations","locations":[],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/deleteVirtualNetworkOrSubnets","locations":["East
        US","North Central US","West Europe","North Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West Central US","West
        US 2","West US","Japan East","Japan West","Australia East","Australia Southeast","Australia
        Central","Brazil South","Central India","South India","West India","Canada
        Central","Canada East","UK South","UK West","Korea Central","Korea South","France
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"locations/operationResults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"]},{"resourceType":"vaults/eventGridFilters","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14"]},{"resourceType":"managedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview","2020-04-01-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview"]},{"resourceType":"locations/deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","SouthEast Asia","East
        Asia","Korea Central","Australia Central","West US","East US"],"apiVersions":["2021-04-01-preview"]},{"resourceType":"vaults/keys","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01"]},{"resourceType":"vaults/keys/versions","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Jio India West"],"apiVersions":["2021-04-01-preview","2020-04-01-preview","2019-09-01"]}],"registrationState":"Registered"}'
      headers:
        cache-control:
          - no-cache
        content-length:
          - '9008'
        content-type:
          - application/json; charset=utf-8
        date:
          - Wed, 30 Jun 2021 03:49:34 GMT
        expires:
          - '-1'
        pragma:
          - no-cache
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
      status:
        code: 200
        message: OK
  - request:
      body: '{"location": "westus", "properties": {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId": "d186af52-b4be-48d9-9bae-1757adadc29f",
      "permissions": {"keys": ["get", "create", "delete", "list", "update", "import",
      "backup", "restore", "recover"], "secrets": ["get", "list", "set", "delete",
      "backup", "restore", "recover"], "certificates": ["get", "list", "delete", "create",
      "import", "update", "managecontacts", "getissuers", "listissuers", "setissuers",
      "deleteissuers", "manageissuers", "recover"], "storage": ["get", "list", "delete",
      "set", "update", "regeneratekey", "setsas", "listsas", "getsas", "deletesas"]}}],
      "enableSoftDelete": true, "softDeleteRetentionInDays": 90, "enablePurgeProtection":
      true, "networkAcls": {"bypass": "AzureServices", "defaultAction": "Allow"}}}'
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - keyvault create
        Connection:
          - keep-alive
        Content-Length:
          - '906'
        Content-Type:
          - application/json
        ParameterSetName:
          - --resource-group -n --enable-soft-delete --enable-purge-protection
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-azure-mgmt-keyvault/9.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: PUT
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.KeyVault/vaults/cli000002?api-version=2021-04-01-preview
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.KeyVault/vaults/cli000002","name":"cli000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"toswedlu@microsoft.com","createdByType":"User","createdAt":"1970-01-19T19:23:44.977Z","lastModifiedBy":"toswedlu@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"1970-01-19T19:23:44.977Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"d186af52-b4be-48d9-9bae-1757adadc29f","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":90,"enablePurgeProtection":true,"vaultUri":"https://cli000002.vault.azure.net","provisioningState":"RegisteringDns"}}'
      headers:
        cache-control:
          - no-cache
        content-length:
          - '1391'
        content-type:
          - application/json; charset=utf-8
        date:
          - Wed, 30 Jun 2021 03:49:37 GMT
        expires:
          - '-1'
        pragma:
          - no-cache
        server:
          - Microsoft-IIS/10.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-aspnet-version:
          - 4.0.30319
        x-content-type-options:
          - nosniff
        x-ms-keyvault-service-version:
          - 1.5.23.4
        x-ms-ratelimit-remaining-subscription-writes:
          - '1198'
        x-powered-by:
          - ASP.NET
      status:
        code: 200
        message: OK
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - keyvault create
        Connection:
          - keep-alive
        ParameterSetName:
          - --resource-group -n --enable-soft-delete --enable-purge-protection
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-azure-mgmt-keyvault/9.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.KeyVault/vaults/cli000002?api-version=2021-04-01-preview
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.KeyVault/vaults/cli000002","name":"cli000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"toswedlu@microsoft.com","createdByType":"User","createdAt":"1970-01-19T19:23:44.977Z","lastModifiedBy":"toswedlu@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"1970-01-19T19:23:44.977Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"d186af52-b4be-48d9-9bae-1757adadc29f","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":90,"enablePurgeProtection":true,"vaultUri":"https://cli000002.vault.azure.net/","provisioningState":"Succeeded"}}'
      headers:
        cache-control:
          - no-cache
        content-length:
          - '1387'
        content-type:
          - application/json; charset=utf-8
        date:
          - Wed, 30 Jun 2021 03:50:07 GMT
        expires:
          - '-1'
        pragma:
          - no-cache
        server:
          - Microsoft-IIS/10.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-aspnet-version:
          - 4.0.30319
        x-content-type-options:
          - nosniff
        x-ms-keyvault-service-version:
          - 1.5.23.4
        x-powered-by:
          - ASP.NET
      status:
        code: 200
        message: OK
  - request:
      body: null
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        Connection:
          - keep-alive
        User-Agent:
          - python/3.8.2 (Windows-10-10.0.19041-SP0) msrest/0.6.21 msrest_azure/0.6.3
            azure-graphrbac/0.60.0 Azure-SDK-For-Python
        accept-language:
          - en-US
      method: GET
      uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28c%3Ac%20eq%20%27a232010e-820c-4083-83bb-3ace5fc29d0b%27%29&api-version=1.6
    response:
      body:
        string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"e5007d2c-4b13-4a74-9b6a-605d99f03501","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"Azure
        Cosmos DB","appId":"a232010e-820c-4083-83bb-3ace5fc29d0b","applicationTemplateId":null,"appOwnerTenantId":"f8cdef31-a31e-4b4a-93e4-5f571e91255a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"Azure
        Cosmos DB","errorUrl":null,"homepage":null,"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access Azure Cosmos DB on behalf of the signed-in user.","adminConsentDisplayName":"Access
        Azure Cosmos DB","id":"8741c20d-e8c0-41ff-8adf-b7b9ba168197","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access Azure Cosmos DB on your behalf.","userConsentDisplayName":"Access
        Azure Cosmos DB as the Signed-in User","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"Microsoft
        Services","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["a232010e-820c-4083-83bb-3ace5fc29d0b"],"servicePrincipalType":"Application","signInAudience":"AzureADMultipleOrgs","tags":[],"tokenEncryptionKeyId":null}]}'
      headers:
        access-control-allow-origin:
          - '*'
        cache-control:
          - no-cache
        content-length:
          - '1666'
        content-type:
          - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
        dataserviceversion:
          - 3.0;
        date:
          - Wed, 30 Jun 2021 03:50:08 GMT
        duration:
          - '452519'
        expires:
          - '-1'
        ocp-aad-diagnostics-server-name:
          - o2W+bEsb3lTocpGslc4ho2LcCIx+P6+WVk/BynigNgk=
        ocp-aad-session-key:
          - W_GEV36egB6Z_y6jVxSFoTmjUjqUGviiXzQgQ64RQySr-ZdByE_hs2c_jGw4SEWgKKLGAGyGgjihqvxUVHTP6WV5YHWAci_nJSQ4fKQb02bwrhLjN_ugWUOypNwSEYJw.FVX_I2zrK3ebHvqA3CJM8JZID3LFJSPJq_TtpANR33Y
        pragma:
          - no-cache
        request-id:
          - f2d2a47b-f470-44ba-a3b7-f4c5af564b89
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        x-aspnet-version:
          - 4.0.30319
        x-ms-dirapi-data-contract-version:
          - '1.6'
        x-ms-resource-unit:
          - '1'
        x-powered-by:
          - ASP.NET
      status:
        code: 200
        message: OK
  - request:
      body: null
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - keyvault set-policy
        Connection:
          - keep-alive
        ParameterSetName:
          - -n -g --spn --key-permissions
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-azure-mgmt-keyvault/9.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.KeyVault/vaults/cli000002?api-version=2021-04-01-preview
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.KeyVault/vaults/cli000002","name":"cli000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"toswedlu@microsoft.com","createdByType":"User","createdAt":"1970-01-19T19:23:44.977Z","lastModifiedBy":"toswedlu@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"1970-01-19T19:23:44.977Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"d186af52-b4be-48d9-9bae-1757adadc29f","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":90,"enablePurgeProtection":true,"vaultUri":"https://cli000002.vault.azure.net/","provisioningState":"Succeeded"}}'
      headers:
        cache-control:
          - no-cache
        content-length:
          - '1387'
        content-type:
          - application/json; charset=utf-8
        date:
          - Wed, 30 Jun 2021 03:50:08 GMT
        expires:
          - '-1'
        pragma:
          - no-cache
        server:
          - Microsoft-IIS/10.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-aspnet-version:
          - 4.0.30319
        x-content-type-options:
          - nosniff
        x-ms-keyvault-service-version:
          - 1.5.23.4
        x-powered-by:
          - ASP.NET
      status:
        code: 200
        message: OK
  - request:
      body: '{"location": "westus", "tags": {}, "properties": {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId": "d186af52-b4be-48d9-9bae-1757adadc29f",
      "permissions": {"keys": ["get", "create", "delete", "list", "update", "import",
      "backup", "restore", "recover"], "secrets": ["get", "list", "set", "delete",
      "backup", "restore", "recover"], "certificates": ["get", "list", "delete", "create",
      "import", "update", "managecontacts", "getissuers", "listissuers", "setissuers",
      "deleteissuers", "manageissuers", "recover"], "storage": ["get", "list", "delete",
      "set", "update", "regeneratekey", "setsas", "listsas", "getsas", "deletesas"]}},
      {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId": "e5007d2c-4b13-4a74-9b6a-605d99f03501",
      "permissions": {"keys": ["wrapKey", "unwrapKey", "get"]}}], "vaultUri": "https://cli000002.vault.azure.net/",
      "enabledForDeployment": false, "enableSoftDelete": true, "softDeleteRetentionInDays":
      90, "enablePurgeProtection": true, "provisioningState": "Succeeded"}}'
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - keyvault set-policy
        Connection:
          - keep-alive
        Content-Length:
          - '1133'
        Content-Type:
          - application/json
        ParameterSetName:
          - -n -g --spn --key-permissions
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-azure-mgmt-keyvault/9.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: PUT
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.KeyVault/vaults/cli000002?api-version=2021-04-01-preview
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.KeyVault/vaults/cli000002","name":"cli000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"toswedlu@microsoft.com","createdByType":"User","createdAt":"1970-01-19T19:23:44.977Z","lastModifiedBy":"toswedlu@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"1970-01-19T19:23:45.01Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"d186af52-b4be-48d9-9bae-1757adadc29f","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"e5007d2c-4b13-4a74-9b6a-605d99f03501","permissions":{"keys":["wrapKey","unwrapKey","get"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":90,"enablePurgeProtection":true,"vaultUri":"https://cli000002.vault.azure.net/","provisioningState":"Succeeded"}}'
      headers:
        cache-control:
          - no-cache
        content-length:
          - '1541'
        content-type:
          - application/json; charset=utf-8
        date:
          - Wed, 30 Jun 2021 03:50:09 GMT
        expires:
          - '-1'
        pragma:
          - no-cache
        server:
          - Microsoft-IIS/10.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-aspnet-version:
          - 4.0.30319
        x-content-type-options:
          - nosniff
        x-ms-keyvault-service-version:
          - 1.5.23.4
        x-ms-ratelimit-remaining-subscription-writes:
          - '1199'
        x-powered-by:
          - ASP.NET
      status:
        code: 200
        message: OK
  - request:
      body: ''
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        Connection:
          - keep-alive
        Content-Length:
          - 0
        Content-Type:
          - application/json; charset=utf-8
        User-Agent:
          - python/3.8.2 (Windows-10-10.0.19041-SP0) msrest/0.6.21 msrest_azure/0.6.3
            azure-keyvault/7.0 Azure-SDK-For-Python
        accept-language:
          - en-US
      method: POST
      uri: https://cli000002.vault.azure.net/keys/cli000003/create?api-version=7.0
    response:
      body:
        string: '{"error":{"code":"Unauthorized","message":"AKV10000: Request is missing
        a Bearer or PoP token."}}'
      headers:
        cache-control:
          - no-cache
        content-length:
          - '97'
        content-type:
          - application/json; charset=utf-8
        date:
          - Wed, 30 Jun 2021 03:50:10 GMT
        expires:
          - '-1'
        pragma:
          - no-cache
        strict-transport-security:
          - max-age=31536000;includeSubDomains
        www-authenticate:
          - Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
            resource="https://vault.azure.net"
        x-content-type-options:
          - nosniff
        x-ms-keyvault-network-info:
          - conn_type=Ipv4;addr=24.125.111.132;act_addr_fam=InterNetwork;
        x-ms-keyvault-region:
          - westus
        x-ms-keyvault-service-version:
          - 1.9.12.0
        x-powered-by:
          - ASP.NET
      status:
        code: 401
        message: Unauthorized
  - request:
      body: '{"kty": "RSA", "key_size": 3072, "attributes": {"enabled": true}}'
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        Connection:
          - keep-alive
        Content-Length:
          - '65'
        Content-Type:
          - application/json; charset=utf-8
        User-Agent:
          - python/3.8.2 (Windows-10-10.0.19041-SP0) msrest/0.6.21 msrest_azure/0.6.3
            azure-keyvault/7.0 Azure-SDK-For-Python
        accept-language:
          - en-US
      method: POST
      uri: https://cli000002.vault.azure.net/keys/cli000003/create?api-version=7.0
    response:
      body:
        string: '{"key":{"kid":"https://cli000002.vault.azure.net/keys/cli000003/5fa1af13f5d14062ae2cfc878d3b84c8","kty":"RSA","key_ops":["encrypt","decrypt","sign","verify","wrapKey","unwrapKey"],"n":"w2rsZqCD7rPOrr6usNANJ0Lf5szRimBmhrbc5d9AjMMrL6Kb2Cb59DGvAx0-jWQU3YXysIGyq7mpQ53SL_zNa4nRxxR1BocPck4ZTcJMdLnG5HuVt8b7t-8johVCmV6at2yymldHvBXdh3luX0z6Fe_gwSq0KUBdPkVCHyVhQEOaLHfGHegJJWJSMgQUWiBRaWNfojyS4DzTMr7AqIxx6tCqLIYbaVxC4cowsVW5P__4vfgBXBdmK3GbIW3zzvqy1l0yg4kcsBcUUWx-fY6OdxR6Xeg7nvtY8V02op0OgcAuVKBwin-jpoy3VmVOszadDKPHwNy1caRwxWe5mfKMIpQ-SSq8qv0nBjLZS71VEP95FuJ5tsB1TLR5tE62-73ICZBu0AAJCwY9SGTerOGBsjx0ptAfdomw5aJ2Tro_8wIOzhYGiiS0414Pcot9fHKZ_xoXsDZfk75wzhhiYzGO4A6pRAzkw1tWsAKqSFu5ouqtUsaNd_Y9x3sZo9QVasfp","e":"AQAB"},"attributes":{"enabled":true,"created":1625025012,"updated":1625025012,"recoveryLevel":"Recoverable"}}'
      headers:
        cache-control:
          - no-cache
        content-length:
          - '825'
        content-type:
          - application/json; charset=utf-8
        date:
          - Wed, 30 Jun 2021 03:50:12 GMT
        expires:
          - '-1'
        pragma:
          - no-cache
        strict-transport-security:
          - max-age=31536000;includeSubDomains
        x-content-type-options:
          - nosniff
        x-ms-keyvault-network-info:
          - conn_type=Ipv4;addr=24.125.111.132;act_addr_fam=InterNetwork;
        x-ms-keyvault-region:
          - westus
        x-ms-keyvault-service-version:
          - 1.9.12.0
        x-powered-by:
          - ASP.NET
      status:
        code: 200
        message: OK
  - request:
      body: null
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb create
        Connection:
          - keep-alive
        ParameterSetName:
          - -n -g --locations --key-uri --assign-identity --default-identity
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-azure-mgmt-resource/18.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_cosmosdb_managed_service_identity000001?api-version=2021-04-01
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001","name":"cli_test_cosmosdb_managed_service_identity000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2021-06-30T03:48:16Z"},"properties":{"provisioningState":"Succeeded"}}'
      headers:
        cache-control:
          - no-cache
        content-length:
          - '428'
        content-type:
          - application/json; charset=utf-8
        date:
          - Wed, 30 Jun 2021 03:50:12 GMT
        expires:
          - '-1'
        pragma:
          - no-cache
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
      status:
        code: 200
        message: OK
  - request:
      body: '{"location": "westus", "kind": "GlobalDocumentDB", "identity": {"type":
      "SystemAssigned"}, "properties": {"locations": [{"locationName": "eastus2",
      "failoverPriority": 0, "isZoneRedundant": false}], "databaseAccountOfferType":
      "Standard", "keyVaultKeyUri": "https://cli000002.vault.azure.net/keys/cli000003",
      "defaultIdentity": "FirstPartyIdentity", "apiProperties": {}, "createMode":
      "Default"}}'
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb create
        Connection:
          - keep-alive
        Content-Length:
          - '408'
        Content-Type:
          - application/json
        ParameterSetName:
          - -n -g --locations --key-uri --assign-identity --default-identity
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: PUT
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004?api-version=2021-06-15
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004","name":"cli000004","location":"West
        US","type":"Microsoft.DocumentDB/databaseAccounts","kind":"GlobalDocumentDB","tags":{},"systemData":{"createdAt":"2021-06-30T03:50:20.4817122Z"},"properties":{"provisioningState":"Creating","publicNetworkAccess":"Enabled","enableAutomaticFailover":false,"enableMultipleWriteLocations":false,"enablePartitionKeyMonitor":false,"isVirtualNetworkFilterEnabled":false,"virtualNetworkRules":[],"EnabledApiTypes":"Sql","disableKeyBasedMetadataWriteAccess":false,"enableFreeTier":false,"enableAnalyticalStorage":false,"analyticalStorageConfiguration":{"analyticalStorageSchemaType":"WellDefined"},"instanceId":"c474d299-6b64-4ee1-9310-46b785667e89","createMode":"Default","databaseAccountOfferType":"Standard","keyVaultKeyUri":"https://cli000002.vault.azure.net/keys/cli000003","defaultIdentity":"FirstPartyIdentity","networkAclBypass":"None","disableLocalAuth":false,"consistencyPolicy":{"defaultConsistencyLevel":"Session","maxIntervalInSeconds":5,"maxStalenessPrefix":100},"configurationOverrides":{},"writeLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","provisioningState":"Creating","failoverPriority":0,"isZoneRedundant":false}],"readLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","provisioningState":"Creating","failoverPriority":0,"isZoneRedundant":false}],"locations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","provisioningState":"Creating","failoverPriority":0,"isZoneRedundant":false}],"failoverPolicies":[{"id":"cli000004-eastus2","locationName":"East
        US 2","failoverPriority":0}],"cors":[],"capabilities":[],"ipRules":[],"backupPolicy":{"type":"Periodic","periodicModeProperties":{"backupIntervalInMinutes":240,"backupRetentionIntervalInHours":8,"backupStorageRedundancy":"Geo"}},"networkAclBypassResourceIds":[]},"identity":{"type":"SystemAssigned","principalId":"52bcff77-2a43-4cae-bc61-3ee6fe462e1d","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"}}'
      headers:
        azure-asyncoperation:
          - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.DocumentDB/locations/westus/operationsStatus/51fd7cd5-e695-4eab-94e1-07051efbcaff?api-version=2021-06-15
        cache-control:
          - no-store, no-cache
        content-length:
          - '2200'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:50:22 GMT
        location:
          - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004/operationResults/51fd7cd5-e695-4eab-94e1-07051efbcaff?api-version=2021-06-15
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
        x-ms-ratelimit-remaining-subscription-writes:
          - '1199'
      status:
        code: 200
        message: Ok
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb create
        Connection:
          - keep-alive
        ParameterSetName:
          - -n -g --locations --key-uri --assign-identity --default-identity
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.DocumentDB/locations/westus/operationsStatus/51fd7cd5-e695-4eab-94e1-07051efbcaff?api-version=2021-06-15
    response:
      body:
        string: '{"status":"Dequeued"}'
      headers:
        cache-control:
          - no-store, no-cache
        content-length:
          - '21'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:50:52 GMT
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
      status:
        code: 200
        message: Ok
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb create
        Connection:
          - keep-alive
        ParameterSetName:
          - -n -g --locations --key-uri --assign-identity --default-identity
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.DocumentDB/locations/westus/operationsStatus/51fd7cd5-e695-4eab-94e1-07051efbcaff?api-version=2021-06-15
    response:
      body:
        string: '{"status":"Dequeued"}'
      headers:
        cache-control:
          - no-store, no-cache
        content-length:
          - '21'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:51:22 GMT
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
      status:
        code: 200
        message: Ok
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb create
        Connection:
          - keep-alive
        ParameterSetName:
          - -n -g --locations --key-uri --assign-identity --default-identity
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.DocumentDB/locations/westus/operationsStatus/51fd7cd5-e695-4eab-94e1-07051efbcaff?api-version=2021-06-15
    response:
      body:
        string: '{"status":"Dequeued"}'
      headers:
        cache-control:
          - no-store, no-cache
        content-length:
          - '21'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:51:53 GMT
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
      status:
        code: 200
        message: Ok
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb create
        Connection:
          - keep-alive
        ParameterSetName:
          - -n -g --locations --key-uri --assign-identity --default-identity
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.DocumentDB/locations/westus/operationsStatus/51fd7cd5-e695-4eab-94e1-07051efbcaff?api-version=2021-06-15
    response:
      body:
        string: '{"status":"Succeeded"}'
      headers:
        cache-control:
          - no-store, no-cache
        content-length:
          - '22'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:52:23 GMT
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
      status:
        code: 200
        message: Ok
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb create
        Connection:
          - keep-alive
        ParameterSetName:
          - -n -g --locations --key-uri --assign-identity --default-identity
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004?api-version=2021-06-15
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004","name":"cli000004","location":"West
        US","type":"Microsoft.DocumentDB/databaseAccounts","kind":"GlobalDocumentDB","tags":{},"systemData":{"createdAt":"2021-06-30T03:51:25.7374071Z"},"properties":{"provisioningState":"Succeeded","documentEndpoint":"https://cli000004.documents.azure.com:443/","publicNetworkAccess":"Enabled","enableAutomaticFailover":false,"enableMultipleWriteLocations":false,"enablePartitionKeyMonitor":false,"isVirtualNetworkFilterEnabled":false,"virtualNetworkRules":[],"EnabledApiTypes":"Sql","disableKeyBasedMetadataWriteAccess":false,"enableFreeTier":false,"enableAnalyticalStorage":false,"analyticalStorageConfiguration":{"analyticalStorageSchemaType":"WellDefined"},"instanceId":"c474d299-6b64-4ee1-9310-46b785667e89","createMode":"Default","databaseAccountOfferType":"Standard","keyVaultKeyUri":"https://cli000002.vault.azure.net/keys/cli000003","defaultIdentity":"FirstPartyIdentity","networkAclBypass":"None","disableLocalAuth":false,"consistencyPolicy":{"defaultConsistencyLevel":"Session","maxIntervalInSeconds":5,"maxStalenessPrefix":100},"configurationOverrides":{},"writeLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"readLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"locations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"failoverPolicies":[{"id":"cli000004-eastus2","locationName":"East
        US 2","failoverPriority":0}],"cors":[],"capabilities":[],"ipRules":[],"backupPolicy":{"type":"Periodic","periodicModeProperties":{"backupIntervalInMinutes":240,"backupRetentionIntervalInHours":8,"backupStorageRedundancy":"Geo"}},"networkAclBypassResourceIds":[]},"identity":{"type":"SystemAssigned","principalId":"52bcff77-2a43-4cae-bc61-3ee6fe462e1d","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"}}'
      headers:
        cache-control:
          - no-store, no-cache
        content-length:
          - '2508'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:52:23 GMT
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
      status:
        code: 200
        message: Ok
  - request:
      body: null
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb create
        Connection:
          - keep-alive
        ParameterSetName:
          - -n -g --locations --key-uri --assign-identity --default-identity
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004?api-version=2021-06-15
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004","name":"cli000004","location":"West
        US","type":"Microsoft.DocumentDB/databaseAccounts","kind":"GlobalDocumentDB","tags":{},"systemData":{"createdAt":"2021-06-30T03:51:25.7374071Z"},"properties":{"provisioningState":"Succeeded","documentEndpoint":"https://cli000004.documents.azure.com:443/","publicNetworkAccess":"Enabled","enableAutomaticFailover":false,"enableMultipleWriteLocations":false,"enablePartitionKeyMonitor":false,"isVirtualNetworkFilterEnabled":false,"virtualNetworkRules":[],"EnabledApiTypes":"Sql","disableKeyBasedMetadataWriteAccess":false,"enableFreeTier":false,"enableAnalyticalStorage":false,"analyticalStorageConfiguration":{"analyticalStorageSchemaType":"WellDefined"},"instanceId":"c474d299-6b64-4ee1-9310-46b785667e89","createMode":"Default","databaseAccountOfferType":"Standard","keyVaultKeyUri":"https://cli000002.vault.azure.net/keys/cli000003","defaultIdentity":"FirstPartyIdentity","networkAclBypass":"None","disableLocalAuth":false,"consistencyPolicy":{"defaultConsistencyLevel":"Session","maxIntervalInSeconds":5,"maxStalenessPrefix":100},"configurationOverrides":{},"writeLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"readLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"locations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"failoverPolicies":[{"id":"cli000004-eastus2","locationName":"East
        US 2","failoverPriority":0}],"cors":[],"capabilities":[],"ipRules":[],"backupPolicy":{"type":"Periodic","periodicModeProperties":{"backupIntervalInMinutes":240,"backupRetentionIntervalInHours":8,"backupStorageRedundancy":"Geo"}},"networkAclBypassResourceIds":[]},"identity":{"type":"SystemAssigned","principalId":"52bcff77-2a43-4cae-bc61-3ee6fe462e1d","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"}}'
      headers:
        cache-control:
          - no-store, no-cache
        content-length:
          - '2508'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:52:23 GMT
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
      status:
        code: 200
        message: Ok
  - request:
      body: null
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb identity remove
        Connection:
          - keep-alive
        ParameterSetName:
          - -n -g
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004?api-version=2021-06-15
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004","name":"cli000004","location":"West
        US","type":"Microsoft.DocumentDB/databaseAccounts","kind":"GlobalDocumentDB","tags":{},"systemData":{"createdAt":"2021-06-30T03:51:25.7374071Z"},"properties":{"provisioningState":"Succeeded","documentEndpoint":"https://cli000004.documents.azure.com:443/","publicNetworkAccess":"Enabled","enableAutomaticFailover":false,"enableMultipleWriteLocations":false,"enablePartitionKeyMonitor":false,"isVirtualNetworkFilterEnabled":false,"virtualNetworkRules":[],"EnabledApiTypes":"Sql","disableKeyBasedMetadataWriteAccess":false,"enableFreeTier":false,"enableAnalyticalStorage":false,"analyticalStorageConfiguration":{"analyticalStorageSchemaType":"WellDefined"},"instanceId":"c474d299-6b64-4ee1-9310-46b785667e89","createMode":"Default","databaseAccountOfferType":"Standard","keyVaultKeyUri":"https://cli000002.vault.azure.net/keys/cli000003","defaultIdentity":"FirstPartyIdentity","networkAclBypass":"None","disableLocalAuth":false,"consistencyPolicy":{"defaultConsistencyLevel":"Session","maxIntervalInSeconds":5,"maxStalenessPrefix":100},"configurationOverrides":{},"writeLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"readLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"locations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"failoverPolicies":[{"id":"cli000004-eastus2","locationName":"East
        US 2","failoverPriority":0}],"cors":[],"capabilities":[],"ipRules":[],"backupPolicy":{"type":"Periodic","periodicModeProperties":{"backupIntervalInMinutes":240,"backupRetentionIntervalInHours":8,"backupStorageRedundancy":"Geo"}},"networkAclBypassResourceIds":[]},"identity":{"type":"SystemAssigned","principalId":"52bcff77-2a43-4cae-bc61-3ee6fe462e1d","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"}}'
      headers:
        cache-control:
          - no-store, no-cache
        content-length:
          - '2508'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:52:24 GMT
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
      status:
        code: 200
        message: Ok
  - request:
      body: '{"identity": {"type": "None"}}'
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb identity remove
        Connection:
          - keep-alive
        Content-Length:
          - '30'
        Content-Type:
          - application/json
        ParameterSetName:
          - -n -g
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: PATCH
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004?api-version=2021-06-15
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004","name":"cli000004","location":"West
        US","type":"Microsoft.DocumentDB/databaseAccounts","kind":"GlobalDocumentDB","tags":{},"systemData":{"createdAt":"2021-06-30T03:51:25.7374071Z"},"properties":{"provisioningState":"Updating","documentEndpoint":"https://cli000004.documents.azure.com:443/","publicNetworkAccess":"Enabled","enableAutomaticFailover":false,"enableMultipleWriteLocations":false,"enablePartitionKeyMonitor":false,"isVirtualNetworkFilterEnabled":false,"virtualNetworkRules":[],"EnabledApiTypes":"Sql","disableKeyBasedMetadataWriteAccess":false,"enableFreeTier":false,"enableAnalyticalStorage":false,"analyticalStorageConfiguration":{"analyticalStorageSchemaType":"WellDefined"},"instanceId":"c474d299-6b64-4ee1-9310-46b785667e89","createMode":"Default","databaseAccountOfferType":"Standard","keyVaultKeyUri":"https://cli000002.vault.azure.net/keys/cli000003","defaultIdentity":"FirstPartyIdentity","networkAclBypass":"None","disableLocalAuth":false,"consistencyPolicy":{"defaultConsistencyLevel":"Session","maxIntervalInSeconds":5,"maxStalenessPrefix":100},"configurationOverrides":{},"writeLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Updating","failoverPriority":0,"isZoneRedundant":false}],"readLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Updating","failoverPriority":0,"isZoneRedundant":false}],"locations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Updating","failoverPriority":0,"isZoneRedundant":false}],"failoverPolicies":[{"id":"cli000004-eastus2","locationName":"East
        US 2","failoverPriority":0}],"cors":[],"capabilities":[],"ipRules":[],"backupPolicy":{"type":"Periodic","periodicModeProperties":{"backupIntervalInMinutes":240,"backupRetentionIntervalInHours":8,"backupStorageRedundancy":"Geo"}},"networkAclBypassResourceIds":[]},"identity":{"type":"SystemAssigned","principalId":"52bcff77-2a43-4cae-bc61-3ee6fe462e1d","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"}}'
      headers:
        azure-asyncoperation:
          - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.DocumentDB/locations/westus/operationsStatus/a4da3d6a-4d4e-4a50-a945-00edb604680d?api-version=2021-06-15
        cache-control:
          - no-store, no-cache
        content-length:
          - '2504'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:52:30 GMT
        location:
          - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004/operationResults/a4da3d6a-4d4e-4a50-a945-00edb604680d?api-version=2021-06-15
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
        x-ms-ratelimit-remaining-subscription-writes:
          - '1199'
      status:
        code: 200
        message: Ok
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb identity remove
        Connection:
          - keep-alive
        ParameterSetName:
          - -n -g
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.DocumentDB/locations/westus/operationsStatus/a4da3d6a-4d4e-4a50-a945-00edb604680d?api-version=2021-06-15
    response:
      body:
        string: '{"status":"Succeeded"}'
      headers:
        cache-control:
          - no-store, no-cache
        content-length:
          - '22'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:53:00 GMT
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
      status:
        code: 200
        message: Ok
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb identity remove
        Connection:
          - keep-alive
        ParameterSetName:
          - -n -g
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004?api-version=2021-06-15
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004","name":"cli000004","location":"West
        US","type":"Microsoft.DocumentDB/databaseAccounts","kind":"GlobalDocumentDB","tags":{},"systemData":{"createdAt":"2021-06-30T03:51:25.7374071Z"},"properties":{"provisioningState":"Succeeded","documentEndpoint":"https://cli000004.documents.azure.com:443/","publicNetworkAccess":"Enabled","enableAutomaticFailover":false,"enableMultipleWriteLocations":false,"enablePartitionKeyMonitor":false,"isVirtualNetworkFilterEnabled":false,"virtualNetworkRules":[],"EnabledApiTypes":"Sql","disableKeyBasedMetadataWriteAccess":false,"enableFreeTier":false,"enableAnalyticalStorage":false,"analyticalStorageConfiguration":{"analyticalStorageSchemaType":"WellDefined"},"instanceId":"c474d299-6b64-4ee1-9310-46b785667e89","createMode":"Default","databaseAccountOfferType":"Standard","keyVaultKeyUri":"https://cli000002.vault.azure.net/keys/cli000003","defaultIdentity":"FirstPartyIdentity","networkAclBypass":"None","disableLocalAuth":false,"consistencyPolicy":{"defaultConsistencyLevel":"Session","maxIntervalInSeconds":5,"maxStalenessPrefix":100},"configurationOverrides":{},"writeLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"readLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"locations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"failoverPolicies":[{"id":"cli000004-eastus2","locationName":"East
        US 2","failoverPriority":0}],"cors":[],"capabilities":[],"ipRules":[],"backupPolicy":{"type":"Periodic","periodicModeProperties":{"backupIntervalInMinutes":240,"backupRetentionIntervalInHours":8,"backupStorageRedundancy":"Geo"}},"networkAclBypassResourceIds":[]},"identity":{"type":"None"}}'
      headers:
        cache-control:
          - no-store, no-cache
        content-length:
          - '2395'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:53:00 GMT
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
      status:
        code: 200
        message: Ok
  - request:
      body: null
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb identity assign
        Connection:
          - keep-alive
        ParameterSetName:
          - -n -g
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004?api-version=2021-06-15
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004","name":"cli000004","location":"West
        US","type":"Microsoft.DocumentDB/databaseAccounts","kind":"GlobalDocumentDB","tags":{},"systemData":{"createdAt":"2021-06-30T03:51:25.7374071Z"},"properties":{"provisioningState":"Succeeded","documentEndpoint":"https://cli000004.documents.azure.com:443/","publicNetworkAccess":"Enabled","enableAutomaticFailover":false,"enableMultipleWriteLocations":false,"enablePartitionKeyMonitor":false,"isVirtualNetworkFilterEnabled":false,"virtualNetworkRules":[],"EnabledApiTypes":"Sql","disableKeyBasedMetadataWriteAccess":false,"enableFreeTier":false,"enableAnalyticalStorage":false,"analyticalStorageConfiguration":{"analyticalStorageSchemaType":"WellDefined"},"instanceId":"c474d299-6b64-4ee1-9310-46b785667e89","createMode":"Default","databaseAccountOfferType":"Standard","keyVaultKeyUri":"https://cli000002.vault.azure.net/keys/cli000003","defaultIdentity":"FirstPartyIdentity","networkAclBypass":"None","disableLocalAuth":false,"consistencyPolicy":{"defaultConsistencyLevel":"Session","maxIntervalInSeconds":5,"maxStalenessPrefix":100},"configurationOverrides":{},"writeLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"readLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"locations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"failoverPolicies":[{"id":"cli000004-eastus2","locationName":"East
        US 2","failoverPriority":0}],"cors":[],"capabilities":[],"ipRules":[],"backupPolicy":{"type":"Periodic","periodicModeProperties":{"backupIntervalInMinutes":240,"backupRetentionIntervalInHours":8,"backupStorageRedundancy":"Geo"}},"networkAclBypassResourceIds":[]},"identity":{"type":"None"}}'
      headers:
        cache-control:
          - no-store, no-cache
        content-length:
          - '2395'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:53:00 GMT
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
      status:
        code: 200
        message: Ok
  - request:
      body: '{"identity": {"type": "SystemAssigned"}}'
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb identity assign
        Connection:
          - keep-alive
        Content-Length:
          - '40'
        Content-Type:
          - application/json
        ParameterSetName:
          - -n -g
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: PATCH
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004?api-version=2021-06-15
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004","name":"cli000004","location":"West
        US","type":"Microsoft.DocumentDB/databaseAccounts","kind":"GlobalDocumentDB","tags":{},"systemData":{"createdAt":"2021-06-30T03:51:25.7374071Z"},"properties":{"provisioningState":"Updating","documentEndpoint":"https://cli000004.documents.azure.com:443/","publicNetworkAccess":"Enabled","enableAutomaticFailover":false,"enableMultipleWriteLocations":false,"enablePartitionKeyMonitor":false,"isVirtualNetworkFilterEnabled":false,"virtualNetworkRules":[],"EnabledApiTypes":"Sql","disableKeyBasedMetadataWriteAccess":false,"enableFreeTier":false,"enableAnalyticalStorage":false,"analyticalStorageConfiguration":{"analyticalStorageSchemaType":"WellDefined"},"instanceId":"c474d299-6b64-4ee1-9310-46b785667e89","createMode":"Default","databaseAccountOfferType":"Standard","keyVaultKeyUri":"https://cli000002.vault.azure.net/keys/cli000003","defaultIdentity":"FirstPartyIdentity","networkAclBypass":"None","disableLocalAuth":false,"consistencyPolicy":{"defaultConsistencyLevel":"Session","maxIntervalInSeconds":5,"maxStalenessPrefix":100},"configurationOverrides":{},"writeLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Updating","failoverPriority":0,"isZoneRedundant":false}],"readLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Updating","failoverPriority":0,"isZoneRedundant":false}],"locations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Updating","failoverPriority":0,"isZoneRedundant":false}],"failoverPolicies":[{"id":"cli000004-eastus2","locationName":"East
        US 2","failoverPriority":0}],"cors":[],"capabilities":[],"ipRules":[],"backupPolicy":{"type":"Periodic","periodicModeProperties":{"backupIntervalInMinutes":240,"backupRetentionIntervalInHours":8,"backupStorageRedundancy":"Geo"}},"networkAclBypassResourceIds":[]},"identity":{"type":"None"}}'
      headers:
        azure-asyncoperation:
          - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.DocumentDB/locations/westus/operationsStatus/d50de6df-7f8f-44e9-92ce-7430a642ecb9?api-version=2021-06-15
        cache-control:
          - no-store, no-cache
        content-length:
          - '2391'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:53:05 GMT
        location:
          - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004/operationResults/d50de6df-7f8f-44e9-92ce-7430a642ecb9?api-version=2021-06-15
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
        x-ms-ratelimit-remaining-subscription-writes:
          - '1199'
      status:
        code: 200
        message: Ok
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb identity assign
        Connection:
          - keep-alive
        ParameterSetName:
          - -n -g
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.DocumentDB/locations/westus/operationsStatus/d50de6df-7f8f-44e9-92ce-7430a642ecb9?api-version=2021-06-15
    response:
      body:
        string: '{"status":"Succeeded"}'
      headers:
        cache-control:
          - no-store, no-cache
        content-length:
          - '22'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:53:34 GMT
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
      status:
        code: 200
        message: Ok
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb identity assign
        Connection:
          - keep-alive
        ParameterSetName:
          - -n -g
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004?api-version=2021-06-15
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004","name":"cli000004","location":"West
        US","type":"Microsoft.DocumentDB/databaseAccounts","kind":"GlobalDocumentDB","tags":{},"systemData":{"createdAt":"2021-06-30T03:51:25.7374071Z"},"properties":{"provisioningState":"Succeeded","documentEndpoint":"https://cli000004.documents.azure.com:443/","publicNetworkAccess":"Enabled","enableAutomaticFailover":false,"enableMultipleWriteLocations":false,"enablePartitionKeyMonitor":false,"isVirtualNetworkFilterEnabled":false,"virtualNetworkRules":[],"EnabledApiTypes":"Sql","disableKeyBasedMetadataWriteAccess":false,"enableFreeTier":false,"enableAnalyticalStorage":false,"analyticalStorageConfiguration":{"analyticalStorageSchemaType":"WellDefined"},"instanceId":"c474d299-6b64-4ee1-9310-46b785667e89","createMode":"Default","databaseAccountOfferType":"Standard","keyVaultKeyUri":"https://cli000002.vault.azure.net/keys/cli000003","defaultIdentity":"FirstPartyIdentity","networkAclBypass":"None","disableLocalAuth":false,"consistencyPolicy":{"defaultConsistencyLevel":"Session","maxIntervalInSeconds":5,"maxStalenessPrefix":100},"configurationOverrides":{},"writeLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"readLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"locations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"failoverPolicies":[{"id":"cli000004-eastus2","locationName":"East
        US 2","failoverPriority":0}],"cors":[],"capabilities":[],"ipRules":[],"backupPolicy":{"type":"Periodic","periodicModeProperties":{"backupIntervalInMinutes":240,"backupRetentionIntervalInHours":8,"backupStorageRedundancy":"Geo"}},"networkAclBypassResourceIds":[]},"identity":{"type":"SystemAssigned","principalId":"83389b12-e831-4558-912c-8b26755a23f1","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"}}'
      headers:
        cache-control:
          - no-store, no-cache
        content-length:
          - '2508'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:53:35 GMT
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
      status:
        code: 200
        message: Ok
  - request:
      body: null
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - keyvault set-policy
        Connection:
          - keep-alive
        ParameterSetName:
          - -n -g --object-id --key-permissions
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-azure-mgmt-keyvault/9.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.KeyVault/vaults/cli000002?api-version=2021-04-01-preview
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.KeyVault/vaults/cli000002","name":"cli000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"toswedlu@microsoft.com","createdByType":"User","createdAt":"1970-01-19T19:23:44.977Z","lastModifiedBy":"toswedlu@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"1970-01-19T19:23:45.01Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"d186af52-b4be-48d9-9bae-1757adadc29f","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"e5007d2c-4b13-4a74-9b6a-605d99f03501","permissions":{"keys":["wrapKey","unwrapKey","get"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":90,"enablePurgeProtection":true,"vaultUri":"https://cli000002.vault.azure.net/","provisioningState":"Succeeded"}}'
      headers:
        cache-control:
          - no-cache
        content-length:
          - '1541'
        content-type:
          - application/json; charset=utf-8
        date:
          - Wed, 30 Jun 2021 03:53:36 GMT
        expires:
          - '-1'
        pragma:
          - no-cache
        server:
          - Microsoft-IIS/10.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-aspnet-version:
          - 4.0.30319
        x-content-type-options:
          - nosniff
        x-ms-keyvault-service-version:
          - 1.5.23.4
        x-powered-by:
          - ASP.NET
      status:
        code: 200
        message: OK
  - request:
      body: '{"location": "westus", "tags": {}, "properties": {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId": "d186af52-b4be-48d9-9bae-1757adadc29f",
      "permissions": {"keys": ["get", "create", "delete", "list", "update", "import",
      "backup", "restore", "recover"], "secrets": ["get", "list", "set", "delete",
      "backup", "restore", "recover"], "certificates": ["get", "list", "delete", "create",
      "import", "update", "managecontacts", "getissuers", "listissuers", "setissuers",
      "deleteissuers", "manageissuers", "recover"], "storage": ["get", "list", "delete",
      "set", "update", "regeneratekey", "setsas", "listsas", "getsas", "deletesas"]}},
      {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId": "e5007d2c-4b13-4a74-9b6a-605d99f03501",
      "permissions": {"keys": ["wrapKey", "unwrapKey", "get"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "objectId": "83389b12-e831-4558-912c-8b26755a23f1", "permissions": {"keys":
      ["wrapKey", "unwrapKey", "get"]}}], "vaultUri": "https://cli000002.vault.azure.net/",
      "enabledForDeployment": false, "enableSoftDelete": true, "softDeleteRetentionInDays":
      90, "enablePurgeProtection": true, "provisioningState": "Succeeded"}}'
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - keyvault set-policy
        Connection:
          - keep-alive
        Content-Length:
          - '1297'
        Content-Type:
          - application/json
        ParameterSetName:
          - -n -g --object-id --key-permissions
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-azure-mgmt-keyvault/9.0.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: PUT
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.KeyVault/vaults/cli000002?api-version=2021-04-01-preview
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.KeyVault/vaults/cli000002","name":"cli000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"toswedlu@microsoft.com","createdByType":"User","createdAt":"1970-01-19T19:23:44.977Z","lastModifiedBy":"toswedlu@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"1970-01-19T19:23:45.217Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"d186af52-b4be-48d9-9bae-1757adadc29f","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"e5007d2c-4b13-4a74-9b6a-605d99f03501","permissions":{"keys":["wrapKey","unwrapKey","get"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"83389b12-e831-4558-912c-8b26755a23f1","permissions":{"keys":["wrapKey","unwrapKey","get"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":90,"enablePurgeProtection":true,"vaultUri":"https://cli000002.vault.azure.net/","provisioningState":"Succeeded"}}'
      headers:
        cache-control:
          - no-cache
        content-length:
          - '1697'
        content-type:
          - application/json; charset=utf-8
        date:
          - Wed, 30 Jun 2021 03:53:36 GMT
        expires:
          - '-1'
        pragma:
          - no-cache
        server:
          - Microsoft-IIS/10.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-aspnet-version:
          - 4.0.30319
        x-content-type-options:
          - nosniff
        x-ms-keyvault-service-version:
          - 1.5.23.4
        x-ms-ratelimit-remaining-subscription-writes:
          - '1199'
        x-powered-by:
          - ASP.NET
      status:
        code: 200
        message: OK
  - request:
      body: null
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb update
        Connection:
          - keep-alive
        ParameterSetName:
          - -n -g --default-identity
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004?api-version=2021-06-15
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004","name":"cli000004","location":"West
        US","type":"Microsoft.DocumentDB/databaseAccounts","kind":"GlobalDocumentDB","tags":{},"systemData":{"createdAt":"2021-06-30T03:51:25.7374071Z"},"properties":{"provisioningState":"Succeeded","documentEndpoint":"https://cli000004.documents.azure.com:443/","publicNetworkAccess":"Enabled","enableAutomaticFailover":false,"enableMultipleWriteLocations":false,"enablePartitionKeyMonitor":false,"isVirtualNetworkFilterEnabled":false,"virtualNetworkRules":[],"EnabledApiTypes":"Sql","disableKeyBasedMetadataWriteAccess":false,"enableFreeTier":false,"enableAnalyticalStorage":false,"analyticalStorageConfiguration":{"analyticalStorageSchemaType":"WellDefined"},"instanceId":"c474d299-6b64-4ee1-9310-46b785667e89","createMode":"Default","databaseAccountOfferType":"Standard","keyVaultKeyUri":"https://cli000002.vault.azure.net/keys/cli000003","defaultIdentity":"FirstPartyIdentity","networkAclBypass":"None","disableLocalAuth":false,"consistencyPolicy":{"defaultConsistencyLevel":"Session","maxIntervalInSeconds":5,"maxStalenessPrefix":100},"configurationOverrides":{},"writeLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"readLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"locations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"failoverPolicies":[{"id":"cli000004-eastus2","locationName":"East
        US 2","failoverPriority":0}],"cors":[],"capabilities":[],"ipRules":[],"backupPolicy":{"type":"Periodic","periodicModeProperties":{"backupIntervalInMinutes":240,"backupRetentionIntervalInHours":8,"backupStorageRedundancy":"Geo"}},"networkAclBypassResourceIds":[]},"identity":{"type":"SystemAssigned","principalId":"83389b12-e831-4558-912c-8b26755a23f1","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"}}'
      headers:
        cache-control:
          - no-store, no-cache
        content-length:
          - '2508'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:53:36 GMT
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
      status:
        code: 200
        message: Ok
  - request:
      body: '{"properties": {"defaultIdentity": "SystemAssignedIdentity", "apiProperties":
      {}}}'
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb update
        Connection:
          - keep-alive
        Content-Length:
          - '82'
        Content-Type:
          - application/json
        ParameterSetName:
          - -n -g --default-identity
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: PATCH
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004?api-version=2021-06-15
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004","name":"cli000004","location":"West
        US","type":"Microsoft.DocumentDB/databaseAccounts","kind":"GlobalDocumentDB","tags":{},"systemData":{"createdAt":"2021-06-30T03:51:25.7374071Z"},"properties":{"provisioningState":"Updating","documentEndpoint":"https://cli000004.documents.azure.com:443/","publicNetworkAccess":"Enabled","enableAutomaticFailover":false,"enableMultipleWriteLocations":false,"enablePartitionKeyMonitor":false,"isVirtualNetworkFilterEnabled":false,"virtualNetworkRules":[],"EnabledApiTypes":"Sql","disableKeyBasedMetadataWriteAccess":false,"enableFreeTier":false,"enableAnalyticalStorage":false,"analyticalStorageConfiguration":{"analyticalStorageSchemaType":"WellDefined"},"instanceId":"c474d299-6b64-4ee1-9310-46b785667e89","createMode":"Default","databaseAccountOfferType":"Standard","keyVaultKeyUri":"https://cli000002.vault.azure.net/keys/cli000003","defaultIdentity":"FirstPartyIdentity","networkAclBypass":"None","disableLocalAuth":false,"consistencyPolicy":{"defaultConsistencyLevel":"Session","maxIntervalInSeconds":5,"maxStalenessPrefix":100},"configurationOverrides":{},"writeLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Updating","failoverPriority":0,"isZoneRedundant":false}],"readLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Updating","failoverPriority":0,"isZoneRedundant":false}],"locations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Updating","failoverPriority":0,"isZoneRedundant":false}],"failoverPolicies":[{"id":"cli000004-eastus2","locationName":"East
        US 2","failoverPriority":0}],"cors":[],"capabilities":[],"ipRules":[],"backupPolicy":{"type":"Periodic","periodicModeProperties":{"backupIntervalInMinutes":240,"backupRetentionIntervalInHours":8,"backupStorageRedundancy":"Geo"}},"networkAclBypassResourceIds":[]},"identity":{"type":"SystemAssigned","principalId":"83389b12-e831-4558-912c-8b26755a23f1","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"}}'
      headers:
        azure-asyncoperation:
          - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.DocumentDB/locations/westus/operationsStatus/86dfadb8-09f3-4ca5-b022-1f9bb9c4bbf5?api-version=2021-06-15
        cache-control:
          - no-store, no-cache
        content-length:
          - '2504'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:53:40 GMT
        location:
          - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004/operationResults/86dfadb8-09f3-4ca5-b022-1f9bb9c4bbf5?api-version=2021-06-15
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
        x-ms-ratelimit-remaining-subscription-writes:
          - '1199'
      status:
        code: 200
        message: Ok
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb update
        Connection:
          - keep-alive
        ParameterSetName:
          - -n -g --default-identity
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.DocumentDB/locations/westus/operationsStatus/86dfadb8-09f3-4ca5-b022-1f9bb9c4bbf5?api-version=2021-06-15
    response:
      body:
        string: '{"status":"Succeeded"}'
      headers:
        cache-control:
          - no-store, no-cache
        content-length:
          - '22'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:54:10 GMT
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
      status:
        code: 200
        message: Ok
  - request:
      body: null
      headers:
        Accept:
          - '*/*'
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb update
        Connection:
          - keep-alive
        ParameterSetName:
          - -n -g --default-identity
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004?api-version=2021-06-15
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004","name":"cli000004","location":"West
        US","type":"Microsoft.DocumentDB/databaseAccounts","kind":"GlobalDocumentDB","tags":{},"systemData":{"createdAt":"2021-06-30T03:51:25.7374071Z"},"properties":{"provisioningState":"Succeeded","documentEndpoint":"https://cli000004.documents.azure.com:443/","publicNetworkAccess":"Enabled","enableAutomaticFailover":false,"enableMultipleWriteLocations":false,"enablePartitionKeyMonitor":false,"isVirtualNetworkFilterEnabled":false,"virtualNetworkRules":[],"EnabledApiTypes":"Sql","disableKeyBasedMetadataWriteAccess":false,"enableFreeTier":false,"enableAnalyticalStorage":false,"analyticalStorageConfiguration":{"analyticalStorageSchemaType":"WellDefined"},"instanceId":"c474d299-6b64-4ee1-9310-46b785667e89","createMode":"Default","databaseAccountOfferType":"Standard","keyVaultKeyUri":"https://cli000002.vault.azure.net/keys/cli000003","defaultIdentity":"SystemAssignedIdentity","networkAclBypass":"None","disableLocalAuth":false,"consistencyPolicy":{"defaultConsistencyLevel":"Session","maxIntervalInSeconds":5,"maxStalenessPrefix":100},"configurationOverrides":{},"writeLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"readLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"locations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"failoverPolicies":[{"id":"cli000004-eastus2","locationName":"East
        US 2","failoverPriority":0}],"cors":[],"capabilities":[],"ipRules":[],"backupPolicy":{"type":"Periodic","periodicModeProperties":{"backupIntervalInMinutes":240,"backupRetentionIntervalInHours":8,"backupStorageRedundancy":"Geo"}},"networkAclBypassResourceIds":[]},"identity":{"type":"SystemAssigned","principalId":"83389b12-e831-4558-912c-8b26755a23f1","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"}}'
      headers:
        cache-control:
          - no-store, no-cache
        content-length:
          - '2512'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:54:10 GMT
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
      status:
        code: 200
        message: Ok
  - request:
      body: null
      headers:
        Accept:
          - application/json
        Accept-Encoding:
          - gzip, deflate
        CommandName:
          - cosmosdb update
        Connection:
          - keep-alive
        ParameterSetName:
          - -n -g --default-identity
        User-Agent:
          - AZURECLI/2.25.0 azsdk-python-mgmt-cosmosdb/6.4.0 Python/3.8.2 (Windows-10-10.0.19041-SP0)
      method: GET
      uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004?api-version=2021-06-15
    response:
      body:
        string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_cosmosdb_managed_service_identity000001/providers/Microsoft.DocumentDB/databaseAccounts/cli000004","name":"cli000004","location":"West
        US","type":"Microsoft.DocumentDB/databaseAccounts","kind":"GlobalDocumentDB","tags":{},"systemData":{"createdAt":"2021-06-30T03:51:25.7374071Z"},"properties":{"provisioningState":"Succeeded","documentEndpoint":"https://cli000004.documents.azure.com:443/","publicNetworkAccess":"Enabled","enableAutomaticFailover":false,"enableMultipleWriteLocations":false,"enablePartitionKeyMonitor":false,"isVirtualNetworkFilterEnabled":false,"virtualNetworkRules":[],"EnabledApiTypes":"Sql","disableKeyBasedMetadataWriteAccess":false,"enableFreeTier":false,"enableAnalyticalStorage":false,"analyticalStorageConfiguration":{"analyticalStorageSchemaType":"WellDefined"},"instanceId":"c474d299-6b64-4ee1-9310-46b785667e89","createMode":"Default","databaseAccountOfferType":"Standard","keyVaultKeyUri":"https://cli000002.vault.azure.net/keys/cli000003","defaultIdentity":"SystemAssignedIdentity","networkAclBypass":"None","disableLocalAuth":false,"consistencyPolicy":{"defaultConsistencyLevel":"Session","maxIntervalInSeconds":5,"maxStalenessPrefix":100},"configurationOverrides":{},"writeLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"readLocations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"locations":[{"id":"cli000004-eastus2","locationName":"East
        US 2","documentEndpoint":"https://cli000004-eastus2.documents.azure.com:443/","provisioningState":"Succeeded","failoverPriority":0,"isZoneRedundant":false}],"failoverPolicies":[{"id":"cli000004-eastus2","locationName":"East
        US 2","failoverPriority":0}],"cors":[],"capabilities":[],"ipRules":[],"backupPolicy":{"type":"Periodic","periodicModeProperties":{"backupIntervalInMinutes":240,"backupRetentionIntervalInHours":8,"backupStorageRedundancy":"Geo"}},"networkAclBypassResourceIds":[]},"identity":{"type":"SystemAssigned","principalId":"83389b12-e831-4558-912c-8b26755a23f1","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"}}'
      headers:
        cache-control:
          - no-store, no-cache
        content-length:
          - '2512'
        content-type:
          - application/json
        date:
          - Wed, 30 Jun 2021 03:54:11 GMT
        pragma:
          - no-cache
        server:
          - Microsoft-HTTPAPI/2.0
        strict-transport-security:
          - max-age=31536000; includeSubDomains
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
        x-content-type-options:
          - nosniff
        x-ms-gatewayversion:
          - version=2.14.0
      status:
        code: 200
        message: Ok
version: 1
